# Migration `watch-20191005144355`

This migration has been generated by Adrian Aleixandre at 10/5/2019, 2:43:55 PM.
You can check out the [state of the datamodel](./datamodel.prisma) after the migration.

## Database Steps

```sql
DROP TABLE "lift"."Post";

CREATE TABLE "lift"."HelpRequest" (
  "fulfiller" TEXT    REFERENCES "User"(id) ON DELETE SET NULL,
  "health" INTEGER NOT NULL DEFAULT 0  ,
  "id" TEXT NOT NULL   ,
  "owner" TEXT    REFERENCES "User"(id) ON DELETE SET NULL,
  PRIMARY KEY ("id")
);
```

## Changes

```diff
diff --git datamodel.mdl datamodel.mdl
migration watch-20191005142920..watch-20191005144355
--- datamodel.dml
+++ datamodel.dml
@@ -10,21 +10,19 @@
   provider = "sqlite"
   url      = "file:dev.db"
 }
-model Post {
-  id        String   @default(cuid()) @id
-  createdAt DateTime @default(now())
-  updatedAt DateTime @updatedAt
-  published Boolean  @default(true)
-  title     String
-  content   String?
-  author    User?
+model User {
+  id                String        @default(cuid()) @id
+  email             String        @unique
+  password          String
+  name              String?
+  helpRequests      HelpRequest[] @relation("helpRequests")
+  fulfilledRequests HelpRequest[] @relation("fulfilled")
 }
-model User {
-  id       String  @default(cuid()) @id
-  email    String  @unique
-  password String
-  name     String?
-  posts    Post[]
+model HelpRequest {
+  id        String @default(cuid()) @id
+  owner     User   @relation("helpRequests")
+  health    Int
+  fulfiller User   @relation("fulfilled")
 }
```

## Photon Usage

You can use a specific Photon built for this migration (watch-20191005144355)
in your `before` or `after` migration script like this:

```ts
import Photon from '@generated/photon/watch-20191005144355'

const photon = new Photon()

async function main() {
  const result = await photon.users()
  console.dir(result, { depth: null })
}

main()

```
